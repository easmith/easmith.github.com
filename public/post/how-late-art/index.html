<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Как я искал биткойны в картинах - easmith - заметки</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="easmith" />
  <meta name="description" content="Совсем недавно наткнулся в одном из телеграмм каналов на новость, о том, что один художник по имени Andy Bauch спрятал в своих картинах ключ к биткойнам.
Меня привлекают переплетения искусства и технологии, поэтому я заинтересовался и решил попробовать свои силы.
Произведения Энди представляют собой рисунки созданные из разноцветных частичек конструктора лего.
Вот одна из работ, в которой спрятаны $20 по курсу на апрель 2016 года:
  View this post on Instagram         A post shared by Andy Bauch (@andybauch) on Jul 5, 2016 at 8:36am PDT" />

  <meta name="keywords" content="easmith, github, bitcoin, blockchain" />






<meta name="generator" content="Hugo 0.37.1" />


<link rel="canonical" href="http://localhost:1313/post/how-late-art/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.1.1" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Как я искал биткойны в картинах" />
<meta property="og:description" content="Совсем недавно наткнулся в одном из телеграмм каналов на новость, о том, что один художник по имени Andy Bauch спрятал в своих картинах ключ к биткойнам.
Меня привлекают переплетения искусства и технологии, поэтому я заинтересовался и решил попробовать свои силы.
Произведения Энди представляют собой рисунки созданные из разноцветных частичек конструктора лего.
Вот одна из работ, в которой спрятаны $20 по курсу на апрель 2016 года:
  View this post on Instagram         A post shared by Andy Bauch (@andybauch) on Jul 5, 2016 at 8:36am PDT" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/how-late-art/" />



<meta property="article:published_time" content="2018-03-25T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-03-25T16:01:23&#43;03:00"/>











<meta itemprop="name" content="Как я искал биткойны в картинах">
<meta itemprop="description" content="Совсем недавно наткнулся в одном из телеграмм каналов на новость, о том, что один художник по имени Andy Bauch спрятал в своих картинах ключ к биткойнам.
Меня привлекают переплетения искусства и технологии, поэтому я заинтересовался и решил попробовать свои силы.
Произведения Энди представляют собой рисунки созданные из разноцветных частичек конструктора лего.
Вот одна из работ, в которой спрятаны $20 по курсу на апрель 2016 года:
  View this post on Instagram         A post shared by Andy Bauch (@andybauch) on Jul 5, 2016 at 8:36am PDT">


<meta itemprop="datePublished" content="2018-03-25T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-03-25T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="534">



<meta itemprop="keywords" content="art,ctf,bitcoin,crypto," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Как я искал биткойны в картинах"/>
<meta name="twitter:description" content="Совсем недавно наткнулся в одном из телеграмм каналов на новость, о том, что один художник по имени Andy Bauch спрятал в своих картинах ключ к биткойнам.
Меня привлекают переплетения искусства и технологии, поэтому я заинтересовался и решил попробовать свои силы.
Произведения Энди представляют собой рисунки созданные из разноцветных частичек конструктора лего.
Вот одна из работ, в которой спрятаны $20 по курсу на апрель 2016 года:
  View this post on Instagram         A post shared by Andy Bauch (@andybauch) on Jul 5, 2016 at 8:36am PDT"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">easmith</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Главная</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Архив</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Теги</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Категории</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">Обо мне</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">easmith</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Главная</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Архив</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Теги</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Категории</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">Обо мне</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Как я искал биткойны в картинах</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-03-25 </span>
        <div class="post-category">
            
              <a href="/categories/blog/"> blog </a>
            
          </div>
        
        
      </div>
    </header>

    
    

    
    <div class="post-content">
      <p>Совсем недавно наткнулся в одном из телеграмм каналов на новость, о том, что один художник по имени Andy Bauch спрятал в своих картинах ключ к биткойнам.</p>

<p>Меня привлекают переплетения искусства и технологии, поэтому я заинтересовался и решил попробовать свои силы.</p>

<p>Произведения Энди представляют собой рисунки созданные из разноцветных частичек конструктора лего.</p>

<p>Вот одна из работ, в которой спрятаны $20 по курсу на апрель 2016 года:</p>

<blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/BHfCvBagaiQ/?utm_source=ig_embed&amp;utm_medium=loading" data-instgrm-version="12" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:16px;"> <a href="https://www.instagram.com/p/BHfCvBagaiQ/?utm_source=ig_embed&amp;utm_medium=loading" style=" background:#FFFFFF; line-height:0; padding:0 0; text-align:center; text-decoration:none; width:100%;" target="_blank"> <div style=" display: flex; flex-direction: row; align-items: center;"> <div style="background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 40px; margin-right: 14px; width: 40px;"></div> <div style="display: flex; flex-direction: column; flex-grow: 1; justify-content: center;"> <div style=" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; margin-bottom: 6px; width: 100px;"></div> <div style=" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; width: 60px;"></div></div></div><div style="padding: 19% 0;"></div><div style="display:block; height:50px; margin:0 auto 12px; width:50px;"><svg width="50px" height="50px" viewBox="0 0 60 60" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-511.000000, -20.000000)" fill="#000000"><g><path d="M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631"></path></g></g></g></svg></div><div style="padding-top: 8px;"> <div style=" color:#3897f0; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:550; line-height:18px;"> View this post on Instagram</div></div><div style="padding: 12.5% 0;"></div> <div style="display: flex; flex-direction: row; margin-bottom: 14px; align-items: center;"><div> <div style="background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(0px) translateY(7px);"></div> <div style="background-color: #F4F4F4; height: 12.5px; transform: rotate(-45deg) translateX(3px) translateY(1px); width: 12.5px; flex-grow: 0; margin-right: 14px; margin-left: 2px;"></div> <div style="background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(9px) translateY(-18px);"></div></div><div style="margin-left: 8px;"> <div style=" background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 20px; width: 20px;"></div> <div style=" width: 0; height: 0; border-top: 2px solid transparent; border-left: 6px solid #f4f4f4; border-bottom: 2px solid transparent; transform: translateX(16px) translateY(-4px) rotate(30deg)"></div></div><div style="margin-left: auto;"> <div style=" width: 0px; border-top: 8px solid #F4F4F4; border-right: 8px solid transparent; transform: translateY(16px);"></div> <div style=" background-color: #F4F4F4; flex-grow: 0; height: 12px; width: 16px; transform: translateY(-4px);"></div> <div style=" width: 0; height: 0; border-top: 8px solid #F4F4F4; border-left: 8px solid transparent; transform: translateY(-4px) translateX(8px);"></div></div></div> <div style="display: flex; flex-direction: column; flex-grow: 1; justify-content: center; margin-bottom: 24px;"> <div style=" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; margin-bottom: 6px; width: 224px;"></div> <div style=" background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; width: 144px;"></div></div></a><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BHfCvBagaiQ/?utm_source=ig_embed&amp;utm_medium=loading" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank">A post shared by Andy Bauch (@andybauch)</a> on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2016-07-05T15:36:21+00:00">Jul 5, 2016 at 8:36am PDT</time></p></div></blockquote>
<script async src="//www.instagram.com/embed.js"></script>

<p>Невооруженным взглядом заметен повторяющийся шаблон. Остается разобраться что он значит.</p>

<p>С помощью gimp сделал картинку понятнее для анализа:</p>

<p><img src="/img/bauch/20_BITCOIN_SM.jpg" alt="Gimp processed pattern" /></p>

<p>Итак, разработаем небольшой скрипт из подручных средств. А под рукой у меня оказался старый добрый PHP и Imagick =) Цель скрипта - получить последовательность бит в соответствии с цветами пикселей картины.</p>

<pre><code class="language-php">$originFile = storage_path(&quot;20_BITCOIN_SM.jpg&quot;);
$origin = new \Imagick($originFile);


$len = $request-&gt;get('len', 210);

$total = 48*48;

$rW = $len * 2 + 10;
$rH = round($total / $len) * 2 + 10;

$test = new \Imagick();
$test-&gt;newImage($rW, $rH, &quot;black&quot;);
$test-&gt;setImageFormat(&quot;png&quot;);

$w = 18.9; // ширина пикселя
$h = 18.9; // высота пикселя

$draw = new \ImagickDraw();
$draw-&gt;setStrokeColor(new \ImagickPixel('black'));
$draw-&gt;setFillColor(new \ImagickPixel('white'));
for ($y = 0; $y &lt;= 47; $y++) {
    for ($x = 0; $x &lt;= 47; $x++) {
	$destin = $origin-&gt;getImageRegion($w, $h, 46 + $w * $x, 50 + $h * $y);
	$destin-&gt;scaleimage(1, 1);
	if (!$pixels = $destin-&gt;getimagehistogram()) {
	    return null;
	}
	$pixels = reset($pixels);
	if (array_sum($pixels-&gt;getcolor()) &gt; 256) {
	    $nx = 1 + ($i % $len);
	    $ny = 1 + floor($i / $len);
	    $draw-&gt;point($nx, $ny);
	}
    }
}
$test-&gt;drawImage($draw);
return response($test-&gt;getImageBlob(), 200, ['Content-type' =&gt; 'image/png']);
</code></pre>

<p>Перебор параметра len, как и ожидалось, дал свои плоды:</p>

<p><img src="/img/bauch/len-210.png" alt="bar pattern" /></p>

<p>Сканер штрих-кодов никак не реагирует на последовательность полосок. Идем дальше.</p>

<p>Теперь вместо отрисовки картинки, превратим белые пиксели в 1, а черные в 0;</p>

<pre><code class="language-php">echo (array_sum($pixels-&gt;getcolor()) &gt; 256) ? 1 : 0;
</code></pre>

<p>Получаем 210 бит, что, конечно, мало для приватного ключа:</p>

<pre><code>101001101101000111001100101010000011110011110111001101110111001011010011010011110001111011011100100110110111001110101001101111110010010110001100110110010011001100110100011000110011101000011100011011000011000100
</code></pre>

<p>Нахожу <a href="http://www.wolframalpha.com/input/?i=divisors+210">делители числа 210</a>: 2, 3, 5, 6, 7, 10, 14, 15, 21, 30, 35, 42, 70, 105</p>

<p>210 на 8 не делиться, значит это не набор байт. Представить в виде изображения матрицу 14x15. На QR код не похоже. А вот на матрице 7x30 проглядывается закономерность - слева больше черных пикселей. Это похоже на битовые коды символов в диапазоне 0-127.</p>

<p><img src="/img/bauch/matrix-7x30.png" alt="key matrix" /></p>

<p>А что если перед каждой группой байт подставить 0?</p>

<pre><code class="language-php">$bits = &quot;101001101101000111001100101010000011110011110111001101110111001011010011010011110001111011011100100110110111001110101001101111110010010110001100110110010011001100110100011000110011101000011100011011000011000100&quot;;
echo &quot;0&quot; . join(&quot; 0&quot;, str_split($bits, 7));
</code></pre>

<p>Получили:</p>

<pre><code>01010011 00110100 00111001 01001010 01000001 01110011 01101110 00110111 00111001 00110100 01101001 01110001 01110110 01110010 00110110 01110011 01010100 01101111 01100100 01011000 01100110 01100100 01100110 00110100 00110001 01001110 01000011 01000110 01100001 01000100
</code></pre>

<p>А теперь этот набор байт превратим в текст <a href="https://brainwalletx.github.io/#converter">удобным инструментом</a>. Вуаля! Получили вполне адекватную строку:</p>

<p><em>S49JAsn794iqvr6sTodXfdf41NCFaD</em></p>

<p>Очевидно, это не приватный ключ, и вполне возможно что это <a href="https://en.bitcoin.it/wiki/Mini_private_key_format">Mini private key</a>. Что легко проверяется генератором ключей.</p>

<p>Получаю такой адрес:</p>

<p><em>1NmxAV1ze28U4Uuqg2fH1JTB8NtWKvTyhM</em></p>

<p>Проверяю его баланс и огорчаюсь, что я опоздал на пол дня и кто-то разгадал загадку вперед меня и перевел себе 0.04678122 BTC, что почти 400 баксов по текущему курсу.</p>

<p><a href="https://blockchain.info/address/1NmxAV1ze28U4Uuqg2fH1JTB8NtWKvTyhM">https://blockchain.info/address/1NmxAV1ze28U4Uuqg2fH1JTB8NtWKvTyhM</a></p>

<p>Баланс на Bitcoin Cash по этому адресу так же обращен в 0 :(</p>

<p>Ну что ж, польза от решения загадки осталась - я нашел интересный, полезный и удобный инструмент: <a href="https://gchq.github.io/CyberChef/">The Cyber Swiss Army Knife</a></p>

<p>Это была бессонная ночь =)</p>

    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Автор</span>
    <span class="item-content">easmith</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">Последнее изменение</span>
    <span class="item-content">2018-03-25</span>
  </p>
  
  
</div>

    
    

    <footer class="post-footer">
      <div class="post-tags">
          
          <a href="/tags/art/">art</a>
          
          <a href="/tags/ctf/">ctf</a>
          
          <a href="/tags/bitcoin/">bitcoin</a>
          
          <a href="/tags/crypto/">crypto</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/how-site-works/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Как работает этот сайт</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/pow-and-ram/">
            <span class="next-text nav-default">PoW &#43; Random Access Memory</span>
            <span class="prev-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/easmith" class="iconfont icon-github" title="github"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2017 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">easmith</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.min.js?v=3.1.1"></script>








</body>
</html>
